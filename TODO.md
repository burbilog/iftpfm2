# TODO.md

–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—á–∞–Ω–∏–π –∏–∑ –∫–æ–¥—Ä–µ–≤—å—é.

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (2)

- [x] **#2**: Regex –æ—à–∏–±–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `1` –≤–º–µ—Å—Ç–æ `0` (src/ftp_ops.rs)
  - –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ regex —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 1, —á—Ç–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ fatal error
  - –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –≤–µ—Ä–Ω—É—Ç—å 0 –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- [x] **#3**: `process::exit(1)` –≤ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–º –∫–æ–¥–µ `TransferBuffer` (src/ftp_ops.rs)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `process::exit()` –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ
  - –ù—É–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Result` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞

## üü† –°–µ—Ä—å—ë–∑–Ω—ã–µ (2)

- [x] **#4**: `nlst` —Å SIZE-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π O(n) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (src/protocols/ftp.rs, ftps.rs)
  - –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç SIZE –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
  - –ù—É–∂–Ω–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- [x] **#5**: `OpenOptions::truncate(true)` –ø–µ—Ä–µ–¥ flock ‚Äî race condition (src/instance.rs)
  - –§–∞–π–ª truncate –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ race condition
  - –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–µ—Ä–µ–¥ truncate

## üü° –°—Ä–µ–¥–Ω–∏–µ (4)

- [ ] **#6**: `connect_and_login` –∑–∞–ø—É—Ç–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è SFTP (src/ftp_ops.rs)
  - –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –º–µ–∂–¥—É password –∏ keyfile –∑–∞–ø—É—Ç–∞–Ω–∞
  - –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏ —É—Ç–æ—á–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- [x] **#7**: –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥ `age == 0` –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (src/ftp_ops.rs, src/config.rs)
  - –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è `age == 0`, –Ω–æ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º
  - –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –æ—Ç—Ä–∞–∂–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

- [x] **#8**: `TransferBuffer::size()` –ø–µ—Ä–µ–≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä (src/ftp_ops.rs)
  - –ú–µ—Ç–æ–¥ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –≤–º–µ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–∏—à–Ω–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

- [x] **#9**: `-s` —Ñ–ª–∞–≥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω ‚Äî –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å (src/main.rs, src/cli.rs)
  - –§–ª–∞–≥ `-s` (stdout logging) –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  - –õ–∏–±–æ —É–¥–∞–ª–∏—Ç—å, –ª–∏–±–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üü¢ –ú–µ–ª–∫–∏–µ (3)

- [ ] **#10**: –ò–∑–±—ã—Ç–æ—á–Ω—ã–π `as_str()` –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö (src/ftp_ops.rs)
  - –£–±—Ä–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –≤—ã–∑–æ–≤—ã `as_str()` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

- [ ] **#11**: –¢–µ—Å—Ç `test_parse_config` ‚Äî —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (src/config.rs)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ —Ç–µ—Å—Ç–∞—Ö

- [ ] **#13**: –ù–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö (src/config.rs)
  - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–¥–∞

---

**–í—Å–µ–≥–æ –∑–∞–¥–∞—á:** 11
**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:** 7
**–û—Å—Ç–∞–ª–æ—Å—å:** 4
